@startuml Phase1a_Registration

!theme plain
autonumber

actor "Client" as Client
participant "Issuer API" as Issuer
database "Issuer DB\n(Redis)" as IssuerDB

Client -> Client: Generate key pair

Client -> Issuer: Register Client\nRegistrationRequest
activate Issuer

Issuer -> Issuer: Receive request & basic validation

Issuer -> IssuerDB: Get Account
IssuerDB --> Issuer: Account? (existing or none)

Issuer -> IssuerDB: Create Account with initial balance\nif not exists

Issuer --> Client: 201 Created\nRegistrationResponse
deactivate Issuer

@enduml
