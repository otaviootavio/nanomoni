@startuml Phase1a_Registration

!theme plain
autonumber

actor "Client" as Client
participant "Issuer API" as Issuer
database "Issuer DB\n(Redis)" as IssuerDB

Client -> Client: Create identity\n(generate key pair)

Client -> Issuer: Register\n(client identity)
activate Issuer

Issuer -> Issuer: Validate request
Issuer -> IssuerDB: Create or fetch account
IssuerDB --> Issuer: Account

Issuer --> Client: 201 Created\nRegistration confirmed
deactivate Issuer

@enduml
